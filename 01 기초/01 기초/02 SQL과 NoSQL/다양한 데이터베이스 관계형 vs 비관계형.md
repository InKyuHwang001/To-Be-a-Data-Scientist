# 다양한 데이터베이스: 관계형 vs 비관계형

---

## SQL 데이터베이스

SQL은 '구조화 된 쿼리 언어 (Structured Query Language)'를 말합니다. 따라서 데이터베이스 자체를 나타내는 것이 아니라, 특정 유형의 데이터베이스와 상호 작용하는 데 사용 하는 쿼리 언어입니다. 

SQL을 사용하면 관계형 데이터베이스 관리 시스템(RDBMS)에서 데이터를 저장, 수정, 삭제 및 검색 할 수 있습니다.

이러한 관계형 데이터베이스에는 두 가지 주요 특징이 있습니다.

- 데이터는 엄격한 데이터 스키마(= structure)를 따라 데이터베이스 테이블에 저장됩니다.
- 데이터는 관계를 통해서 연결된 여러 테이블에 분산됩니다.

### 엄격한 스키마

데이터는 테이블(table)에 레코드(record)로 저장되며, 각 테이블에는 명확하게 정의된 구조(structure)-테이블에 들어갈 수있는 데이터와 그렇지 않을 수있는 데이터를 정의하는 필드 집합-가 있습니다. 

구조는 필드의 이름과 데이터 유형으로 정의됩니다.여기서는 스키마를 준수하지 않는 레코드는 추가할 수 없습니다. 더 많은 필드를 얻고 싶다구요? 죄송합니다만 다른 테이블을 선택하셔야 합니다. 일부 필드가 누락 되었다구요? 그래도 이 테이블은 안됩니다!

### 관계

데이터의 중복을 피하기 위해, 데이터들을 여러 테이블로 나누어 저장합니다. 예를들어 Users(사용자), Products(상품), Orders(주문한 상품)의 여러테이블이 존재할 때, 각각의 테이블들은 서로 다른 테이블에 저장되지 않은 데이터 만을 가지고 있습니다.

이런 명확한 구조는 장점이 있습니다. 데이터가 항상 하나의 테이블에서만 관리되기 때문에 잘못된 데이터가 테이블 전체에 복제되어 발생하는 문제가 없습니다. 

---

## NoSQL 데이터베이스

NoSQL은 기본적으로 SQL데이터베이스와 반대되는 접근방식을 따르기 때문에 붙여진 이름입니다.

- 스키마 없음
- 관계 없음

NoSQL 세계에서는 테이블(table)을 컬렉션(Collection)으로, 레코드(record)를 문서(documents)라고 부릅니다. SQL 세계에서는 정해진 스키마를 따르지 않는다면 데이터를 추가 할 수 없었지만, NoSQL에서는 다른 구조의 데이터를 같은 컬렉션(= SQL에서의 table)에 추가할 수 있습니다.

---

## 장단점

둘 중 어떤 데이터베이스 솔루션을 사용해야 할까요?

확실한 정답은 없습니다.

SQL과 NoSQL은 모두 가능한 솔루션입니다. 결국 어떤 데이터를 다루는지, 어떤 애플리케이션에서 사용되는에 따라 결정됩니다.

 **SQL의 장점**

- 명확하게 정의 된 스키마, 데이터 무결성 보장
- 관계를 통해 각 데이터를 중복없이 한 번만 저장할 수 있습니다 

**NoSQL의 장점**

- 스키마가 없기때문에, 유연성이 높습니다.. 즉, 저장된 데이터를 언제든지 조정하고 새로운 "필드"를 추가할 수 있습니다.
- 데이터는 애플리케이션에 필요한 형식으로 저장됩니다. 이렇게 하면 데이터를 가져오는 속도가 빨라집니다.
- 수직 및 수평 확장이 가능하므로 데이터베이스가 애플리케이션에서 발생시키는 모든 읽기 / 쓰기 요청을 처리 할 수 있습니다.

 **SQL의 단점**

- 상대적으로 덜 유연하며, 데이터 스키마는 미리 알고 계획해야합니다. (나중에 수정하는 것이 어렵거나 불가능 할 수 있습니다.)
- JOIN문이 많은 매우 복잡한 쿼리가 만들어 질 수 있습니다.
- 수평 확장이 어렵고, 보통 수직 확장만 가능합니다. 즉 어느 시점에서 처리량/처리 능력과 관련하여 약간의 성장 한계에 직면하게 될 수 있습니다.

**NoSQL의 단점**

- 유연성 때문에, 데이터 구조 결정을 늦어질 수 있습니다.(바로 계획, 결정해야하는 것이 아니기 때문에)
- 복사된 데이터가 변경되면 여러 콜렉션과 문서를 수정해야 합니다.

 

> **그렇다면 언제 SQL이 가장 좋을까?**

- 앱의 여러 부분에서 관련 데이터가 비교적 자주 변경되는 경우 (NoSQL이라면 항상 여러 컬렉션을 수정해야 함)
- 명확한 스키마가 중요하며, 데이터구조가 극적으로 변경되지 않을 때

> **그렇다면 NoSQL은 언제** **가장 좋을까?**

- 정확한 데이터 요구사항을 알 수 없거나 관계를 맺고 있는 데이터가 자주 변경(수정)되는 경우
- 읽기(read)처리를 자주하지만, 데이터를 자주 변경하지 않는 경우 (즉, 한번의 변경으로 수십 개의 문서를 수정 할 필요가 없는 경우)
- 데이터베이스를 수평으로 확장해야 하는 경우 ( 즉, 막대한 양의 데이터를 다뤄야 하는 경우, 읽기/쓰기 처리량이 큰 경우)

## 출처

https://i.am.ai/roadmap/#fundamentals